/* =========================================
   1. VÄRIT JA MUUTTUJAT
   ========================================= */
:root { 
    --p: #4A9E9C;       /* Pääväri: Murrettu Turkoosi */
    --accent: #FF8C42;  /* Tehoste: Energinen Oranssi */
    --bg: #F9FBFB;      /* Tausta: Raikas luonnonvalkoinen */
    --text: #2D3131;    /* Teksti: Pehmeä hiilenmusta */
    --sec-bg: #E2E8E8;  /* Toissijainen: Viileä vaaleanharmaa */
    --white: #ffffff;   /* Korttien tausta */
    --danger: #d64541;  /* Poisto: Hieman pehmennetty punainen */
    --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --brand-font: 'Montserrat', sans-serif; /* Logo-fontti */
}

/* =========================================
   2. PERUSASETUKSET & LAYOUT
   ========================================= */
body { 
    font-family: var(--font-stack);
    background: var(--bg); 
    color: var(--text); 
    padding: 20px; 
    line-height: 1.4; 
    margin: 0;
}

.container { max-width: 600px; margin: 0 auto; }

/* Peruskortti (valkoinen laatikko varjolla) */
.card { 
    background: var(--white); 
    padding: 20px; 
    border-radius: 12px; 
    box-shadow: 0 4px 15px rgba(74, 158, 156, 0.1); 
    margin-bottom: 20px; 
}

/* Erottimet ja apuluokat */
hr { border: 0; border-top: 1px solid var(--sec-bg); margin: 15px 0; }
.empty-msg { font-size: 0.8em; color: #889999; text-align: center; }

.flex { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    gap: 10px; 
}

/* =========================================
   3. TYPOGRAFIA & LOGO
   ========================================= */
h1, h2, h3 { color: var(--p); margin-top: 0; font-weight: 700; }

/* CSS-pohjainen Logo (Montserrat) */
.app-logo {
    display: flex; align-items: center; gap: 8px;
    user-select: none; /* Estää maalauksen */
}

.logo-text {
    font-family: var(--brand-font);
    font-weight: 800; /* Extra Bold */
    font-size: 1.8em;
    color: var(--text);
    text-transform: uppercase;
    letter-spacing: 1px;
    line-height: 1;
}

.logo-badge {
    font-family: var(--brand-font);
    font-weight: 700; /* Bold */
    font-size: 1.1em;
    background: var(--p);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    line-height: 1;
    transform: translateY(-2px);
    box-shadow: 2px 2px 0 rgba(0,0,0,0.1); /* Pieni kova varjo */
}

/* Headerin asettelu */
.header-row {
    display: flex; justify-content: space-between; align-items: center;
}

/* =========================================
   4. DASHBOARD & YHTEENVETO
   ========================================= */
/* Koko asunnon tilanne -laatikko */
.overall-summary {
    background: #e0f2f1; /* Todella vaalea turkoosi */
    border: 1px solid var(--p);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
}

/* Klikattava kortti efekti */
.hover-card {
    transition: transform 0.2s, box-shadow 0.2s;
}
.hover-card:active { transform: scale(0.98); }

/* Tilastoruudukko (3 saraketta, esim. Alku/Poistettu/Tavoite) */
.stats-grid {
    display: grid; grid-template-columns: 1fr 1fr 1fr;
    gap: 8px; margin-top: 15px;
}

.stat-box {
    background: white; padding: 8px; border-radius: 6px;
    text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.stat-label {
    display: block; font-size: 0.7em; color: #666; 
    text-transform: uppercase; letter-spacing: 0.5px;
}
.stat-value {
    display: block; font-size: 1.1em; font-weight: bold; 
    color: var(--text); margin-top: 2px;
}

/* Lajitteluvalikko */
.sort-container {
    display: flex; justify-content: flex-end; align-items: center;
    margin-bottom: 15px; gap: 10px; font-size: 0.9em; color: #666;
}
.sort-select {
    padding: 8px 12px; border: 1px solid var(--p); border-radius: 6px;
    background: var(--white); color: var(--text); font-size: 0.95em; cursor: pointer; outline: none;
}

/* =========================================
   5. HUONEET & KATEGORIAT LISTASSA
   ========================================= */
/* Huonekortti etusivulla */
.room-section { 
    border: 2px solid var(--p); 
    border-radius: 12px; padding: 15px; 
    margin-bottom: 20px; background: var(--white); 
}

.room-summary { 
    background: #f0f7f7; padding: 10px; border-radius: 8px; 
    margin-bottom: 15px; border: 1px dashed var(--p); color: var(--text);
}

/* Yksittäinen kategoria listalla */
.category-item { 
    background: var(--bg); border: 1px solid var(--sec-bg); 
    padding: 15px; border-radius: 8px; margin-top: 10px; 
}
.category-item.locked { 
    border-color: var(--p); background: #eef9f9; 
}

/* Edistymispalkit */
.bar-bg { 
    background: var(--sec-bg); height: 12px; 
    border-radius: 6px; margin: 8px 0; overflow: hidden; 
}
.bar-fill { 
    background: var(--p); height: 100%; width: 0%; transition: width 0.3s; 
}
.bar-room { background: var(--p); }

/* Kategorioiden lukumäärä -badge */
.cat-count-badge {
    background: var(--white); border: 1px solid var(--sec-bg); 
    color: #666; padding: 2px 8px; border-radius: 12px; 
    font-size: 0.75em; white-space: nowrap;
}

/* =========================================
   6. MODAALIT (IKKUNAT)
   ========================================= */
.modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(255, 255, 255, 0.98); z-index: 1000;
    display: flex; justify-content: center; align-items: center;
    padding: 20px; box-sizing: border-box; overflow-y: auto;
}
.modal.hidden { display: none; }

.modal-content {
    width: 100%; max-width: 500px; background: white; height: 100%;
    display: flex; flex-direction: column; justify-content: space-between;
}
.modal-header { 
    text-align: center; margin-bottom: 20px; padding-bottom: 10px; 
    border-bottom: 1px solid var(--sec-bg); 
}
.modal-footer { margin-top: auto; padding-top: 10px; }

/* --- Modaalin lomakekentät --- */
.modal-input-group { margin-bottom: 20px; }
.modal-label { 
    display: block; margin-bottom: 8px; font-weight: bold; color: var(--p); 
}
.modal-input {
    width: 100%; padding: 15px; font-size: 1.1em;
    border: 2px solid var(--sec-bg); border-radius: 8px;
    box-sizing: border-box; outline: none; transition: border-color 0.2s;
}
.modal-input:focus { border-color: var(--p); }

/* --- Moda